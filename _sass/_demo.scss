@import "base";

/*!
 * Custom Select jQuery Plugin Demo
 */

$themes: (
  default: (
    bg-color: #fff,
    bg-color-hover: #f2f2f2,
    border-color: #dbdbdb,
    color: #333
  ),
  // Modifiers
  dark: (
    bg-color: #343436,
    bg-color-hover: #1d1f20,
    border-color: #000,
    color: #fff
  )
);

// As mixin because of `block` option example
@mixin demo($block: "custom-select") {
  .#{$block} {
    $gutter: 0.75rem;
  
    position: relative;
    box-sizing: border-box;
    display: block;
    margin-bottom: 2rem;
    background-color: transparent;
    text-align: left;
  
    @media (min-width: 480px) {
      display: inline-block;
      width: 10rem;
    }
  
    &--active {
      z-index: 2;
    }
  
    &__option {
      position: relative;
      height: 2rem;
      padding: 0 $gutter;
      font-size: 1rem;
      line-height: 2rem;
  
      @each $name, $theme in $themes {
        $color: map-get($theme, color);
  
        @if ($name == default) {
          color: $color;
        } @else {
          .#{$block}--#{$name} & {
            color: $color;
          }
        }
      }
  
      &:focus {
        outline: none;
      }
  
      &:hover,
      &:focus {
        @each $name, $theme in $themes {
          $bg-color-hover: map-get($theme, bg-color-hover);
  
          @if ($name == default) {
            background-color: $bg-color-hover;
          } @else {
            .#{$block}--#{$name} & {
              background-color: $bg-color-hover;
            }
          }
        }
      }
  
      &--value {
        padding-right: $gutter * 2 + 0.375rem;
        border: 1px solid;
        border-radius: 0.3rem;
        font-weight: 700;
  
        @each $name, $theme in $themes {
          $bg-color: map-get($theme, bg-color);
          $border-color: map-get($theme, border-color);
  
          @if ($name == default) {
            background-color: $bg-color;
            border-color: $border-color;
          } @else {
            .#{$block}--#{$name} & {
              background-color: $bg-color;
              border-color: $border-color;
            }
          }
        }
  
        .#{$block}--active & {
          border-bottom-width: 0;
          border-radius: 0.3rem 0.3rem 0 0;
  
          @at-root .#{$block}--dropup#{&} {
            border-top-color: transparent;
            border-bottom-width: 1px;
            border-radius: 0 0 0.3rem 0.3rem;
          }
        }
  
        &::after {
          position: absolute;
          box-sizing: border-box;
          width: 0;
          height: 0;
          top: 50%;
          right: 1rem;
          margin-top: -0.1875rem;
          border-width: 0.375rem;
          border-bottom-width: 0;
          border-style: solid;
          border-color: currentColor transparent;
          content: "";
  
          .#{$block}--active & {
            transform: rotate(-180deg);
          }
        }
      }
  
      // Shows original options classes copying
      &.bold {
        font-weight: bold;
      }
    }
  
    &__input {
      $default: map-get($themes, default);
  
      position: relative;
      z-index: 1;
      height: 2rem;
      margin-top: -1px;
      padding: 0 $gutter;
      border-width: 1px 0;
      outline: none;
      transform: translateY(1px);
      font-size: 1rem;
      color: map-get($default, color);
  
      @each $name, $theme in $themes {
        $border-color: map-get($theme, border-color);
  
        @if ($name == default) {
          border-color: $border-color;
        } @else {
          .#{$block}--#{$name} & {
            border-color: $border-color;
          }
        }
      }
  
      .#{$block}--dropup & {
        border-top-width: 0;
        margin-top: 0;
        transform: translateY(0);
      }
    }
  
    &__dropdown {
      overflow: hidden;
      border-width: 0 1px 1px;
      border-style: solid;
      border-radius: 0 0 0.3rem 0.3rem;
  
      @each $name, $theme in $themes {
        $bg-color: map-get($theme, bg-color);
        $border-color: map-get($theme, border-color);
  
        @if ($name == default) {
          background-color: $bg-color;
          border-color: $border-color;
        } @else {
          .#{$block}--#{$name} & {
            background-color: $bg-color;
            border-color: $border-color;
          }
        }
      }
  
      .#{$block}--dropup & {
        border-width: 1px 1px 0;
        border-radius: 0.3rem 0.3rem 0 0;
      }
    }
  }
}

@include demo;
@include custom-select('my-custom-select');
@include demo('my-custom-select');
