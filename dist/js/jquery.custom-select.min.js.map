{"version":3,"sources":["../../jquery.custom-select.js"],"names":["CustomSelect","$","defaults","block","hideCallback","includeValue","keyboard","modifier","placeholder","search","showCallback","transition","autocomplete","select","options","this","_$select","_options","_keydown","bind","_dropup","_outside","_activeModifier","_dropupModifier","console","warn","_init","_proto","prototype","_this","_$element","hide","after","addClass","_$values","find","_values","each","i","option","el","text","trim","push","_$value","length","html","prop","_$dropdown","cssClass","eq","attr","$option","data","append","one","event","_show","_$options","on","_select","_search","_this2","preventDefault","window","slideDown","_$input","focus","call","setTimeout","outsideClickEvent","document","documentElement","_hide","index","_this3","slideUp","removeClass","off","blur","show","val","_$wrap","scrollTop","_this4","choice","currentTarget","values","slice","splice","last","remove","not","$this","originalEvent","trigger","_this5","prepend","wrapAll","query","match","toLowerCase","indexOf","toggle","bottom","getBoundingClientRect","up","height","toggleClass","$target","target","parents","is","$visible","filter","keyCode","add","_jQueryPlugin","fn","noConflict"],"mappings":"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","sourcesContent":["import $ from 'jquery';\r\n\r\n/*!\r\n * Custom Select jQuery Plugin\r\n */\r\n\r\nconst CustomSelect = (($) => {\r\n\r\n  const defaults = {\r\n    block: 'custom-select',\r\n    hideCallback: false,\r\n    includeValue: false,\r\n    keyboard: true,\r\n    modifier: false,\r\n    placeholder: false,\r\n    search: false,\r\n    showCallback: false,\r\n    transition: 100,\r\n\r\n    // TODO: Remove deprecated in v1.4.0\r\n    autocomplete: false\r\n  };\r\n\r\n  class CustomSelect {\r\n\r\n    /**\r\n     * Custom Select\r\n     *\r\n     * @param {Object} select - `<select>` DOM element\r\n     * @param {Object} [options] - Settings object\r\n     * @param {string} [options.block=custom-select] - Class name (BEM block name)\r\n     * @param {Function} [options.hideCallback=false] - Fires after dropdown closes\r\n     * @param {boolean} [options.includeValue=false] - Shows chosen value option in\r\n     * dropdown, if enabled also cancels dropdown options rerender\r\n     * @param {boolean} [options.keyboard=true] - Enables keyboard control\r\n     * @param {string} [options.modifier=false] - Additional class, e.g. BEM modifier\r\n     * @param {string} [options.placeholder=false] - Custom select placeholder hint,\r\n     * can be an HTML string (appears if there is no explicitly selected options)\r\n     * @param {boolean} [options.search=false] - Adds input to search options\r\n     * @param {Function} [options.showCallback=false] - Fires after dropdown opens\r\n     * @param {number || string} [options.transition=100] - jQuery slideUp/Down speed\r\n     */\r\n    constructor(select, options) {\r\n      this._$select = $(select);\r\n      this._options = options;\r\n\r\n      // Event handlers that can be removed\r\n      this._keydown = this._keydown.bind(this);\r\n      this._dropup = this._dropup.bind(this);\r\n      this._outside = this._outside.bind(this);\r\n\r\n      // Modifiers\r\n      this._activeModifier = `${this._options.block}--active`;\r\n      this._dropupModifier = `${this._options.block}--dropup`;\r\n\r\n      // TODO: Remove in v1.4.0\r\n      if (this._options.autocomplete) {\r\n        this._options.search = true;\r\n        console.warn('Option `autocomplete` is deprecated since v1.3.0! Please, use `search` instead.');\r\n      }\r\n\r\n      this._init();\r\n    }\r\n\r\n    _init() {\r\n      this._$element = $(\r\n        `<div class=\"${this._options.block}\">\r\n           <button class=\"${this._options.block}__option ${this._options.block}__option--value\"></button>\r\n           <div class=\"${this._options.block}__dropdown\" style=\"display: none;\"></div>\r\n         </div>`\r\n      );\r\n\r\n      this._$select\r\n        .hide()\r\n        .after(this._$element);\r\n\r\n      if (this._options.modifier) {\r\n        this._$element.addClass(this._options.modifier);\r\n      }\r\n\r\n      // Create values array\r\n      this._$values = this._$select.find('option');\r\n      this._values = [];\r\n\r\n      $.each(this._$values, (i, option) => {\r\n        const el = $(option).text().trim();\r\n        this._values.push(el);\r\n      });\r\n\r\n      this._$value = this._$element.find(`.${this._options.block}__option--value`);\r\n\r\n      if (this._options.placeholder) {\r\n        // Disable placeholder if there is explicitly selected option\r\n        if (this._$select.find('[selected]').length) {\r\n          this._options.placeholder = false;\r\n        } else {\r\n          this._$value.html(this._options.placeholder);\r\n          // Set select value to null\r\n          this._$select.prop('selectedIndex', -1);\r\n        }\r\n      }\r\n\r\n      this._$dropdown = this._$element.find(`.${this._options.block}__dropdown`);\r\n\r\n      // Render options\r\n      $.each(this._values, (i, el) => {\r\n        const cssClass = this._$values.eq(i).attr('class');\r\n        const $option = $(`<button class=\"${this._options.block}__option\">${el}</button>`);\r\n\r\n        if (el === this._$select.find(':selected').text().trim()) {\r\n          this._$value\r\n            .text(el)\r\n            .addClass(cssClass).data('class', cssClass);\r\n\r\n          if (this._options.includeValue || this._options.placeholder) {\r\n            $option.addClass(cssClass);\r\n            this._$dropdown.append($option);\r\n          }\r\n        } else {\r\n          $option.addClass(cssClass);\r\n          this._$dropdown.append($option);\r\n        }\r\n      });\r\n\r\n      this._$value.one('click', (event) => {\r\n        this._show(event);\r\n      });\r\n\r\n      this._$options = this._$dropdown.find(`.${this._options.block}__option`);\r\n      this._$options.on('click', (event) => {\r\n        this._select(event);\r\n      });\r\n\r\n      if (this._options.search) {\r\n        this._search();\r\n      }\r\n    }\r\n\r\n    _show(event) {\r\n      event.preventDefault();\r\n\r\n      // Set dropdown position modifier\r\n      this._dropup();\r\n      $(window).on('resize scroll', this._dropup);\r\n\r\n      this._$element.addClass(this._activeModifier);\r\n\r\n      this._$dropdown.slideDown(this._options.transition, () => {\r\n        if (this._options.search) {\r\n          this._$input.focus();\r\n        }\r\n\r\n        // Open callback\r\n        if (typeof this._options.showCallback === 'function') {\r\n          this._options.showCallback.call(this._$element[0]);\r\n        }\r\n      });\r\n\r\n      setTimeout(() => {\r\n        const outsideClickEvent = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click';\r\n        $(window).on(outsideClickEvent, this._outside);\r\n      }, 0);\r\n\r\n      this._$value.one('click', (event) => {\r\n        event.preventDefault();\r\n\r\n        this._hide();\r\n      });\r\n\r\n      if (this._options.keyboard) {\r\n        this._options.index = -1;\r\n        $(window).on('keydown', this._keydown);\r\n      }\r\n\r\n      // Modifiers\r\n      this._activeModifier = `${this._options.block}--active`;\r\n      this._dropupModifier = `${this._options.block}--dropup`;\r\n    }\r\n\r\n    _hide() {\r\n      this._$dropdown.slideUp(this._options.transition, () => {\r\n        this._$element\r\n          .removeClass(this._activeModifier)\r\n          .removeClass(this._dropupModifier);\r\n\r\n        // Close callback\r\n        if (typeof this._options.hideCallback === 'function') {\r\n          this._options.hideCallback.call(this._$element[0]);\r\n        }\r\n\r\n        $(window)\r\n          .off('touchstart click', this._outside)\r\n          .off('resize scroll', this._dropup);\r\n        this._$value\r\n          .off('click')\r\n          .one('click', (event) => {\r\n            this._show(event);\r\n          });\r\n      });\r\n\r\n      if (this._options.keyboard) {\r\n        this._$options.blur();\r\n        $(window).off('keydown', this._keydown);\r\n      }\r\n\r\n      // Clear search\r\n      if (this._options.search) {\r\n        this._$options.show();\r\n        this._$input\r\n          .val('')\r\n          .blur();\r\n        this._$wrap.scrollTop(0);\r\n      }\r\n    }\r\n\r\n    _select(event) {\r\n      event.preventDefault();\r\n\r\n      const choice = $(event.currentTarget).text().trim();\r\n      const values = this._values.slice();\r\n\r\n      this._$value\r\n        .text(choice)\r\n        .removeClass(this._$value.data('class'));\r\n      this._$values.prop('selected', false);\r\n\r\n      $.each(values, (i, el) => {\r\n        if (!this._options.includeValue && el === choice) {\r\n          values.splice(i, 1);\r\n        }\r\n\r\n        $.each(this._$values, (i, option) => {\r\n          const $option = $(option);\r\n          if ($option.text().trim() === choice) {\r\n            const cssClass = $option.attr('class');\r\n\r\n            $option.prop('selected', true);\r\n            this._$value.addClass(cssClass).data('class', cssClass);\r\n          }\r\n        });\r\n      });\r\n\r\n      this._hide();\r\n\r\n      // Update dropdown options content\r\n      if (!this._options.includeValue) {\r\n        if (this._$options.length > values.length) {\r\n          const last = this._$options.eq(values.length);\r\n          last.remove();\r\n          this._$options = this._$options.not(last);\r\n        }\r\n\r\n        $.each(this._$options, (i, option) => {\r\n          const $option = $(option);\r\n          $option.text(values[i]);\r\n\r\n          // Reset option class\r\n          $option.attr('class', `${this._options.block}__option`);\r\n\r\n          $.each(this._$values, function() {\r\n            const $this = $(this);\r\n            if ($this.text().trim() === values[i]) {\r\n              $option.addClass($this.attr('class'));\r\n            }\r\n          });\r\n        });\r\n      }\r\n\r\n      if (typeof event.originalEvent !== 'undefined') {\r\n        this._$select.trigger('change');\r\n      }\r\n    }\r\n\r\n    _search() {\r\n      this._$input = $(`<input class=\"${this._options.block}__input\" autocomplete=\"off\">`);\r\n      this._$dropdown.prepend(this._$input);\r\n\r\n      // Add scrollable wrap\r\n      this._$options.wrapAll(`<div class=\"${this._options.block}__option-wrap\"></div>`);\r\n      this._$wrap = this._$element.find(`.${this._options.block}__option-wrap`);\r\n\r\n      this._$input.on('focus', () => {\r\n        this._options.index = -1;\r\n      });\r\n\r\n      this._$input.on('keyup', () => {\r\n        const query = this._$input.val().trim();\r\n\r\n        this._$wrap.scrollTop(0);\r\n\r\n        if (query.length) {\r\n          setTimeout(() => {\r\n            if (query === this._$input.val().trim()) {\r\n              $.each(this._$options, (i, option) => {\r\n                const $option = $(option);\r\n                const text = $option.text().trim().toLowerCase();\r\n                const match = text.indexOf(query.toLowerCase()) !== -1;\r\n\r\n                $option.toggle(match);\r\n              });\r\n            }\r\n          }, 300);\r\n        } else {\r\n          this._$options.show();\r\n        }\r\n      });\r\n    }\r\n\r\n    _dropup() {\r\n      const bottom = this._$element[0].getBoundingClientRect().bottom;\r\n      const up = $(window).height() - bottom < this._$dropdown.height();\r\n\r\n      this._$element.toggleClass(this._dropupModifier, up);\r\n    }\r\n\r\n    _outside(event) {\r\n      const $target = $(event.target);\r\n      if (!$target.parents().is(this._$element) && !$target.is(this._$element)) {\r\n        this._hide();\r\n      }\r\n    }\r\n\r\n    _keydown(event) {\r\n      const $visible = this._$options.filter(':visible');\r\n\r\n      switch (event.keyCode) {\r\n        // Down\r\n        case 40:\r\n          event.preventDefault();\r\n\r\n          const next = $visible.eq(this._options.index + 1).length;\r\n          if (next) {\r\n            this._options.index += 1;\r\n          } else {\r\n            this._options.index = 0;\r\n          }\r\n\r\n          $visible.eq(this._options.index).focus();\r\n          break;\r\n\r\n        // Up\r\n        case 38:\r\n          event.preventDefault();\r\n\r\n          const prev = $visible.eq(this._options.index - 1).length;\r\n          if (prev && this._options.index - 1 >= 0) {\r\n            this._options.index -= 1;\r\n          } else {\r\n            this._options.index = $visible.length - 1;\r\n          }\r\n\r\n          $visible.eq(this._options.index).focus();\r\n          break;\r\n\r\n        // Enter\r\n        case 13:\r\n\r\n        // Space\r\n        case 32:\r\n          if (!this._$input || !this._$input.is(':focus')) {\r\n            event.preventDefault();\r\n\r\n            const $option = this._$options.add(this._$value).filter(':focus');\r\n            $option.trigger('click');\r\n\r\n            if (!$option.is(this._$value)) {\r\n              this._$select.trigger('change');\r\n            }\r\n            this._$value.focus();\r\n          }\r\n          break;\r\n\r\n        // Esc\r\n        case 27:\r\n          event.preventDefault();\r\n\r\n          this._hide();\r\n          this._$value.focus();\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    static _jQueryPlugin(options) {\r\n      return this.each(function () {\r\n        const $this = $(this);\r\n        let data = $this.data('custom-select');\r\n        const _options = {\r\n          ...defaults,\r\n          ...typeof options === 'object' && options\r\n        };\r\n\r\n        if (!data) {\r\n          data = new CustomSelect(this, _options);\r\n          $this.data('custom-select', data);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  $.fn['customSelect'] = CustomSelect._jQueryPlugin;\r\n  $.fn['customSelect'].noConflict = () => $.fn['customSelect'];\r\n\r\n})($);\r\n\r\nexport default CustomSelect;\r\n"]}