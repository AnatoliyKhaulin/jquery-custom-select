{"version":3,"sources":["../../jquery.custom-select.js"],"names":["CustomSelect","$","defaults","block","hideCallback","includeValue","keyboard","modifier","placeholder","search","showCallback","transition","autocomplete","select","options","_$select","_options","_activeModifier","_dropupModifier","_keydown","bind","_dropup","_outside","console","warn","_init","_$element","hide","after","addClass","_$values","find","_values","each","i","option","el","text","trim","push","_$value","length","html","prop","_$dropdown","cssClass","eq","attr","$option","data","append","_$options","_search","one","event","_show","on","_select","preventDefault","window","slideDown","_$input","focus","call","setTimeout","outsideClickEvent","document","documentElement","_hide","index","slideUp","removeClass","off","blur","show","val","_$wrap","scrollTop","choice","currentTarget","values","slice","splice","last","remove","not","$this","originalEvent","trigger","prepend","wrapAll","query","toLowerCase","match","indexOf","toggle","bottom","getBoundingClientRect","up","height","toggleClass","$target","target","parents","is","$visible","filter","keyCode","next","prev","add","_jQueryPlugin","fn","noConflict"],"mappings":";;AAEA;;;AAIA,IAAMA,eAAgB,UAACC,CAAD,EAAO;AAE3B,MAAMC,WAAW;AACfC,WAAO,eADQ;AAEfC,kBAAc,KAFC;AAGfC,kBAAc,KAHC;AAIfC,cAAU,IAJK;AAKfC,cAAU,KALK;AAMfC,iBAAa,KANE;AAOfC,YAAQ,KAPO;AAQfC,kBAAc,KARC;AASfC,gBAAY,GATG;AAWf;AACAC,kBAAc;AAZC,GAAjB;;AAF2B,MAiBrBZ,YAjBqB;AAAA;AAAA;AAmBzB;;;;;;;;;;;;;;;;;AAiBA,0BAAYa,MAAZ,EAAoBC,OAApB,EAA6B;AAC3B,WAAKC,QAAL,GAAgBd,EAAEY,MAAF,CAAhB;AACA,WAAKG,QAAL,GAAgBF,OAAhB,CAF2B,CAI3B;;AACA,WAAKG,eAAL,GAA0B,KAAKD,QAAL,CAAcb,KAAxC;AACA,WAAKe,eAAL,GAA0B,KAAKF,QAAL,CAAcb,KAAxC,cAN2B,CAQ3B;;AACA,WAAKgB,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,WAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAf;AACA,WAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB,CAX2B,CAa3B;;AACA,UAAI,KAAKJ,QAAL,CAAcJ,YAAlB,EAAgC;AAC9B,aAAKI,QAAL,CAAcP,MAAd,GAAuB,IAAvB;AACAc,gBAAQC,IAAR,CAAa,iFAAb;AACD;;AAED,WAAKC,KAAL;AACD;;AAxDwB;;AAAA,WA0DzBA,KA1DyB,oBA0DjB;AAAA;;AACN,WAAKC,SAAL,GAAiBzB,oBACA,KAAKe,QAAL,CAAcb,KADd,wCAEK,KAAKa,QAAL,CAAcb,KAFnB,iBAEoC,KAAKa,QAAL,CAAcb,KAFlD,6EAGE,KAAKa,QAAL,CAAcb,KAHhB,mEAAjB;;AAOA,WAAKY,QAAL,CACGY,IADH,GAEGC,KAFH,CAES,KAAKF,SAFd;;AAIA,UAAI,KAAKV,QAAL,CAAcT,QAAlB,EAA4B;AAC1B,aAAKmB,SAAL,CAAeG,QAAf,CAAwB,KAAKb,QAAL,CAAcT,QAAtC;AACD,OAdK,CAgBN;;;AACA,WAAKuB,QAAL,GAAgB,KAAKf,QAAL,CAAcgB,IAAd,CAAmB,QAAnB,CAAhB;AACA,WAAKC,OAAL,GAAe,EAAf;AAEA/B,QAAEgC,IAAF,CAAO,KAAKH,QAAZ,EAAsB,UAACI,CAAD,EAAIC,MAAJ,EAAe;AACnC,YAAMC,KAAKnC,EAAEkC,MAAF,EAAUE,IAAV,GAAiBC,IAAjB,EAAX;;AACA,cAAKN,OAAL,CAAaO,IAAb,CAAkBH,EAAlB;AACD,OAHD;AAKA,WAAKI,OAAL,GAAe,KAAKd,SAAL,CAAeK,IAAf,OAAwB,KAAKf,QAAL,CAAcb,KAAtC,qBAAf;;AAEA,UAAI,KAAKa,QAAL,CAAcR,WAAlB,EAA+B;AAC7B;AACA,YAAI,KAAKO,QAAL,CAAcgB,IAAd,CAAmB,YAAnB,EAAiCU,MAArC,EAA6C;AAC3C,eAAKzB,QAAL,CAAcR,WAAd,GAA4B,KAA5B;AACD,SAFD,MAEO;AACL,eAAKgC,OAAL,CAAaE,IAAb,CAAkB,KAAK1B,QAAL,CAAcR,WAAhC,EADK,CAEL;;;AACA,eAAKO,QAAL,CAAc4B,IAAd,CAAmB,eAAnB,EAAoC,CAAC,CAArC;AACD;AACF;;AAED,WAAKC,UAAL,GAAkB,KAAKlB,SAAL,CAAeK,IAAf,OAAwB,KAAKf,QAAL,CAAcb,KAAtC,gBAAlB,CAtCM,CAwCN;;AACAF,QAAEgC,IAAF,CAAO,KAAKD,OAAZ,EAAqB,UAACE,CAAD,EAAIE,EAAJ,EAAW;AAC9B,YAAMS,WAAW,MAAKf,QAAL,CAAcgB,EAAd,CAAiBZ,CAAjB,EAAoBa,IAApB,CAAyB,OAAzB,CAAjB;;AACA,YAAMC,UAAU/C,uBACI,MAAKe,QAAL,CAAcb,KADlB,mCACkDiC,EADlD,eAAhB;;AAIA,YAAIA,OAAO,MAAKrB,QAAL,CAAcgB,IAAd,CAAmB,WAAnB,EAAgCM,IAAhC,GAAuCC,IAAvC,EAAX,EAA0D;AACxD,gBAAKE,OAAL,CACGH,IADH,CACQD,EADR,EAEGP,QAFH,CAEYgB,QAFZ,EAEsBI,IAFtB,CAE2B,OAF3B,EAEoCJ,QAFpC;;AAIA,cAAI,MAAK7B,QAAL,CAAcX,YAAd,IAA8B,MAAKW,QAAL,CAAcR,WAAhD,EAA6D;AAC3DwC,oBAAQnB,QAAR,CAAiBgB,QAAjB;;AACA,kBAAKD,UAAL,CAAgBM,MAAhB,CAAuBF,OAAvB;AACD;AACF,SATD,MASO;AACLA,kBAAQnB,QAAR,CAAiBgB,QAAjB;;AACA,gBAAKD,UAAL,CAAgBM,MAAhB,CAAuBF,OAAvB;AACD;AACF,OAnBD;AAqBA,WAAKG,SAAL,GAAiB,KAAKP,UAAL,CAAgBb,IAAhB,OAAyB,KAAKf,QAAL,CAAcb,KAAvC,cAAjB;;AAEA,UAAI,KAAKa,QAAL,CAAcP,MAAlB,EAA0B;AACxB,aAAK2C,OAAL;AACD;;AAED,WAAKZ,OAAL,CAAaa,GAAb,CAAiB,OAAjB,EAA0B,UAACC,KAAD,EAAW;AACnC,cAAKC,KAAL,CAAWD,KAAX;AACD,OAFD;;AAIA,UAAI,CAAC,KAAKH,SAAL,CAAeV,MAApB,EAA4B;AAC1B,aAAKD,OAAL,CAAaG,IAAb,CAAkB,UAAlB,EAA8B,IAA9B;AACD;;AAED,WAAKQ,SAAL,CAAeK,EAAf,CAAkB,OAAlB,EAA2B,UAACF,KAAD,EAAW;AACpC,cAAKG,OAAL,CAAaH,KAAb;AACD,OAFD;AAGD,KAzIwB;;AAAA,WA2IzBC,KA3IyB,kBA2InBD,KA3ImB,EA2IZ;AAAA;;AACXA,YAAMI,cAAN,GADW,CAGX;;AACA,WAAKrC,OAAL;;AACApB,QAAE0D,MAAF,EAAUH,EAAV,CAAa,eAAb,EAA8B,KAAKnC,OAAnC;;AAEA,WAAKK,SAAL,CAAeG,QAAf,CAAwB,KAAKZ,eAA7B;;AAEA,WAAK2B,UAAL,CAAgBgB,SAAhB,CAA0B,KAAK5C,QAAL,CAAcL,UAAxC,EAAoD,YAAM;AACxD,YAAI,OAAKK,QAAL,CAAcP,MAAlB,EAA0B;AACxB,iBAAKoD,OAAL,CAAaC,KAAb;AACD,SAHuD,CAKxD;;;AACA,YAAI,OAAO,OAAK9C,QAAL,CAAcN,YAArB,KAAsC,UAA1C,EAAsD;AACpD,iBAAKM,QAAL,CAAcN,YAAd,CAA2BqD,IAA3B,CAAgC,OAAKrC,SAAL,CAAe,CAAf,CAAhC;AACD;AACF,OATD;;AAWAsC,iBAAW,YAAM;AACf,YAAMC,oBAAoB,kBAAkBC,SAASC,eAA3B,GAA6C,YAA7C,GAA4D,OAAtF;AACAlE,UAAE0D,MAAF,EAAUH,EAAV,CAAaS,iBAAb,EAAgC,OAAK3C,QAArC;AACD,OAHD,EAGG,CAHH;;AAKA,WAAKkB,OAAL,CAAaa,GAAb,CAAiB,OAAjB,EAA0B,UAACC,KAAD,EAAW;AACnCA,cAAMI,cAAN;;AAEA,eAAKU,KAAL;AACD,OAJD;;AAMA,UAAI,KAAKpD,QAAL,CAAcV,QAAlB,EAA4B;AAC1B,aAAKU,QAAL,CAAcqD,KAAd,GAAsB,CAAC,CAAvB;AACApE,UAAE0D,MAAF,EAAUH,EAAV,CAAa,SAAb,EAAwB,KAAKrC,QAA7B;AACD;AACF,KA9KwB;;AAAA,WAgLzBiD,KAhLyB,oBAgLjB;AAAA;;AACN,WAAKxB,UAAL,CAAgB0B,OAAhB,CAAwB,KAAKtD,QAAL,CAAcL,UAAtC,EAAkD,YAAM;AACtD,eAAKe,SAAL,CACG6C,WADH,CACe,OAAKtD,eADpB,EAEGsD,WAFH,CAEe,OAAKrD,eAFpB,EADsD,CAKtD;;;AACA,YAAI,OAAO,OAAKF,QAAL,CAAcZ,YAArB,KAAsC,UAA1C,EAAsD;AACpD,iBAAKY,QAAL,CAAcZ,YAAd,CAA2B2D,IAA3B,CAAgC,OAAKrC,SAAL,CAAe,CAAf,CAAhC;AACD;;AAEDzB,UAAE0D,MAAF,EACGa,GADH,CACO,kBADP,EAC2B,OAAKlD,QADhC,EAEGkD,GAFH,CAEO,eAFP,EAEwB,OAAKnD,OAF7B;;AAGA,eAAKmB,OAAL,CACGgC,GADH,CACO,OADP,EAEGnB,GAFH,CAEO,OAFP,EAEgB,UAACC,KAAD,EAAW;AACvB,iBAAKC,KAAL,CAAWD,KAAX;AACD,SAJH;AAKD,OAlBD;;AAoBA,UAAI,KAAKtC,QAAL,CAAcV,QAAlB,EAA4B;AAC1B,aAAK6C,SAAL,CAAesB,IAAf;;AACAxE,UAAE0D,MAAF,EAAUa,GAAV,CAAc,SAAd,EAAyB,KAAKrD,QAA9B;AACD,OAxBK,CA0BN;;;AACA,UAAI,KAAKH,QAAL,CAAcP,MAAlB,EAA0B;AACxB,aAAK0C,SAAL,CAAeuB,IAAf;;AACA,aAAKb,OAAL,CACGc,GADH,CACO,EADP,EAEGF,IAFH;;AAGA,aAAKG,MAAL,CAAYC,SAAZ,CAAsB,CAAtB;AACD;AACF,KAlNwB;;AAAA,WAoNzBpB,OApNyB,oBAoNjBH,KApNiB,EAoNV;AAAA;;AACbA,YAAMI,cAAN;AAEA,UAAMoB,SAAS7E,EAAEqD,MAAMyB,aAAR,EAAuB1C,IAAvB,GAA8BC,IAA9B,EAAf;;AACA,UAAM0C,SAAS,KAAKhD,OAAL,CAAaiD,KAAb,EAAf;;AAEA,WAAKzC,OAAL,CACGH,IADH,CACQyC,MADR,EAEGP,WAFH,CAEe,KAAK/B,OAAL,CAAaS,IAAb,CAAkB,OAAlB,CAFf;;AAGA,WAAKnB,QAAL,CAAca,IAAd,CAAmB,UAAnB,EAA+B,KAA/B;;AAEA1C,QAAEgC,IAAF,CAAO+C,MAAP,EAAe,UAAC9C,CAAD,EAAIE,EAAJ,EAAW;AACxB,YAAI,CAAC,OAAKpB,QAAL,CAAcX,YAAf,IAA+B+B,OAAO0C,MAA1C,EAAkD;AAChDE,iBAAOE,MAAP,CAAchD,CAAd,EAAiB,CAAjB;AACD;;AAEDjC,UAAEgC,IAAF,CAAO,OAAKH,QAAZ,EAAsB,UAACI,CAAD,EAAIC,MAAJ,EAAe;AACnC,cAAMa,UAAU/C,EAAEkC,MAAF,CAAhB;;AACA,cAAIa,QAAQX,IAAR,GAAeC,IAAf,OAA0BwC,MAA9B,EAAsC;AACpC,gBAAMjC,WAAWG,QAAQD,IAAR,CAAa,OAAb,CAAjB;AAEAC,oBAAQL,IAAR,CAAa,UAAb,EAAyB,IAAzB;;AACA,mBAAKH,OAAL,CAAaX,QAAb,CAAsBgB,QAAtB,EAAgCI,IAAhC,CAAqC,OAArC,EAA8CJ,QAA9C;AACD;AACF,SARD;AASD,OAdD;;AAgBA,WAAKuB,KAAL,GA3Ba,CA6Bb;;;AACA,UAAI,CAAC,KAAKpD,QAAL,CAAcX,YAAnB,EAAiC;AAC/B,YAAI,KAAK8C,SAAL,CAAeV,MAAf,GAAwBuC,OAAOvC,MAAnC,EAA2C;AACzC,cAAM0C,OAAO,KAAKhC,SAAL,CAAeL,EAAf,CAAkBkC,OAAOvC,MAAzB,CAAb;;AAEA0C,eAAKC,MAAL;AACA,eAAKjC,SAAL,GAAiB,KAAKA,SAAL,CAAekC,GAAf,CAAmBF,IAAnB,CAAjB;;AAEA,cAAI,CAAC,KAAKhC,SAAL,CAAeV,MAApB,EAA4B;AAC1B,iBAAKD,OAAL,CAAaG,IAAb,CAAkB,UAAlB,EAA8B,IAA9B;AACD;AACF;;AAED1C,UAAEgC,IAAF,CAAO,KAAKkB,SAAZ,EAAuB,UAACjB,CAAD,EAAIC,MAAJ,EAAe;AACpC,cAAMa,UAAU/C,EAAEkC,MAAF,CAAhB;AACAa,kBAAQX,IAAR,CAAa2C,OAAO9C,CAAP,CAAb,EAFoC,CAIpC;;AACAc,kBAAQD,IAAR,CAAa,OAAb,EAAyB,OAAK/B,QAAL,CAAcb,KAAvC;AAEAF,YAAEgC,IAAF,CAAO,OAAKH,QAAZ,EAAsB,YAAW;AAC/B,gBAAMwD,QAAQrF,EAAE,IAAF,CAAd;;AACA,gBAAIqF,MAAMjD,IAAN,GAAaC,IAAb,OAAwB0C,OAAO9C,CAAP,CAA5B,EAAuC;AACrCc,sBAAQnB,QAAR,CAAiByD,MAAMvC,IAAN,CAAW,OAAX,CAAjB;AACD;AACF,WALD;AAMD,SAbD;AAcD;;AAED,UAAI,OAAOO,MAAMiC,aAAb,KAA+B,WAAnC,EAAgD;AAC9C,aAAKxE,QAAL,CAAcyE,OAAd,CAAsB,QAAtB;AACD;AACF,KAjRwB;;AAAA,WAmRzBpC,OAnRyB,sBAmRf;AAAA;;AACR,WAAKS,OAAL,GAAe5D,sBAAmB,KAAKe,QAAL,CAAcb,KAAjC,qCAAf;;AACA,WAAKyC,UAAL,CAAgB6C,OAAhB,CAAwB,KAAK5B,OAA7B,EAFQ,CAIR;;;AACA,WAAKV,SAAL,CAAeuC,OAAf,mBAAsC,KAAK1E,QAAL,CAAcb,KAApD;;AACA,WAAKyE,MAAL,GAAc,KAAKlD,SAAL,CAAeK,IAAf,OAAwB,KAAKf,QAAL,CAAcb,KAAtC,mBAAd;;AAEA,WAAK0D,OAAL,CAAaL,EAAb,CAAgB,OAAhB,EAAyB,YAAM;AAC7B,eAAKxC,QAAL,CAAcqD,KAAd,GAAsB,CAAC,CAAvB;AACD,OAFD;;AAIA,WAAKR,OAAL,CAAaL,EAAb,CAAgB,OAAhB,EAAyB,YAAM;AAC7B,YAAMmC,QAAQ,OAAK9B,OAAL,CAAac,GAAb,GAAmBrC,IAAnB,EAAd;;AAEA,eAAKsC,MAAL,CAAYC,SAAZ,CAAsB,CAAtB;;AAEA,YAAIc,MAAMlD,MAAV,EAAkB;AAChBuB,qBAAW,YAAM;AACf,gBAAI2B,UAAU,OAAK9B,OAAL,CAAac,GAAb,GAAmBrC,IAAnB,EAAd,EAAyC;AACvCrC,gBAAEgC,IAAF,CAAO,OAAKkB,SAAZ,EAAuB,UAACjB,CAAD,EAAIC,MAAJ,EAAe;AACpC,oBAAMa,UAAU/C,EAAEkC,MAAF,CAAhB;AACA,oBAAME,OAAOW,QAAQX,IAAR,GAAeC,IAAf,GAAsBsD,WAAtB,EAAb;AACA,oBAAMC,QAAQxD,KAAKyD,OAAL,CAAaH,MAAMC,WAAN,EAAb,MAAsC,CAAC,CAArD;AAEA5C,wBAAQ+C,MAAR,CAAeF,KAAf;AACD,eAND;AAOD;AACF,WAVD,EAUG,GAVH;AAWD,SAZD,MAYO;AACL,iBAAK1C,SAAL,CAAeuB,IAAf;AACD;AACF,OApBD;AAqBD,KApTwB;;AAAA,WAsTzBrD,OAtTyB,sBAsTf;AACR,UAAM2E,SAAS,KAAKtE,SAAL,CAAe,CAAf,EAAkBuE,qBAAlB,GAA0CD,MAAzD;;AACA,UAAME,KAAKjG,EAAE0D,MAAF,EAAUwC,MAAV,KAAqBH,MAArB,GAA8B,KAAKpD,UAAL,CAAgBuD,MAAhB,EAAzC;;AAEA,WAAKzE,SAAL,CAAe0E,WAAf,CAA2B,KAAKlF,eAAhC,EAAiDgF,EAAjD;AACD,KA3TwB;;AAAA,WA6TzB5E,QA7TyB,qBA6ThBgC,KA7TgB,EA6TT;AACd,UAAM+C,UAAUpG,EAAEqD,MAAMgD,MAAR,CAAhB;;AACA,UAAI,CAACD,QAAQE,OAAR,GAAkBC,EAAlB,CAAqB,KAAK9E,SAA1B,CAAD,IAAyC,CAAC2E,QAAQG,EAAR,CAAW,KAAK9E,SAAhB,CAA9C,EAA0E;AACxE,aAAK0C,KAAL;AACD;AACF,KAlUwB;;AAAA,WAoUzBjD,QApUyB,qBAoUhBmC,KApUgB,EAoUT;AACd,UAAMmD,WAAW,KAAKtD,SAAL,CAAeuD,MAAf,CAAsB,UAAtB,CAAjB;;AAEA,cAAQpD,MAAMqD,OAAd;AACE;AACA,aAAK,EAAL;AACErD,gBAAMI,cAAN;AAEA,cAAMkD,OAAOH,SAAS3D,EAAT,CAAY,KAAK9B,QAAL,CAAcqD,KAAd,GAAsB,CAAlC,EAAqC5B,MAAlD;;AACA,cAAImE,IAAJ,EAAU;AACR,iBAAK5F,QAAL,CAAcqD,KAAd,IAAuB,CAAvB;AACD,WAFD,MAEO;AACL,iBAAKrD,QAAL,CAAcqD,KAAd,GAAsB,CAAtB;AACD;;AAEDoC,mBAAS3D,EAAT,CAAY,KAAK9B,QAAL,CAAcqD,KAA1B,EAAiCP,KAAjC;AACA;AAEF;;AACA,aAAK,EAAL;AACER,gBAAMI,cAAN;AAEA,cAAMmD,OAAOJ,SAAS3D,EAAT,CAAY,KAAK9B,QAAL,CAAcqD,KAAd,GAAsB,CAAlC,EAAqC5B,MAAlD;;AACA,cAAIoE,QAAQ,KAAK7F,QAAL,CAAcqD,KAAd,GAAsB,CAAtB,IAA2B,CAAvC,EAA0C;AACxC,iBAAKrD,QAAL,CAAcqD,KAAd,IAAuB,CAAvB;AACD,WAFD,MAEO;AACL,iBAAKrD,QAAL,CAAcqD,KAAd,GAAsBoC,SAAShE,MAAT,GAAkB,CAAxC;AACD;;AAEDgE,mBAAS3D,EAAT,CAAY,KAAK9B,QAAL,CAAcqD,KAA1B,EAAiCP,KAAjC;AACA;AAEF;;AACA,aAAK,EAAL,CA9BF,CAgCE;;AACA,aAAK,EAAL;AACE,cAAI,CAAC,KAAKD,OAAN,IAAiB,CAAC,KAAKA,OAAL,CAAa2C,EAAb,CAAgB,QAAhB,CAAtB,EAAiD;AAC/ClD,kBAAMI,cAAN;;AAEA,gBAAMV,UAAU,KAAKG,SAAL,CAAe2D,GAAf,CAAmB,KAAKtE,OAAxB,EAAiCkE,MAAjC,CAAwC,QAAxC,CAAhB;;AACA1D,oBAAQwC,OAAR,CAAgB,OAAhB;;AAEA,gBAAI,CAACxC,QAAQwD,EAAR,CAAW,KAAKhE,OAAhB,CAAL,EAA+B;AAC7B,mBAAKzB,QAAL,CAAcyE,OAAd,CAAsB,QAAtB;AACD;;AACD,iBAAKhD,OAAL,CAAasB,KAAb;AACD;;AACD;AAEF;;AACA,aAAK,EAAL;AACER,gBAAMI,cAAN;;AAEA,eAAKU,KAAL;;AACA,eAAK5B,OAAL,CAAasB,KAAb;;AACA;;AAEF;AACE;AAxDJ;AA0DD,KAjYwB;;AAAA,iBAmYlBiD,aAnYkB,0BAmYJjG,OAnYI,EAmYK;AAC5B,aAAO,KAAKmB,IAAL,CAAU,YAAY;AAC3B,YAAMqD,QAAQrF,EAAE,IAAF,CAAd;AACA,YAAIgD,OAAOqC,MAAMrC,IAAN,CAAW,eAAX,CAAX;;AACA,YAAMjC,wBACDd,QADC,EAED,OAAOY,OAAP,KAAmB,QAAnB,IAA+BA,OAF9B,CAAN;;AAKA,YAAI,CAACmC,IAAL,EAAW;AACTA,iBAAO,IAAIjD,YAAJ,CAAiB,IAAjB,EAAuBgB,QAAvB,CAAP;AACAsE,gBAAMrC,IAAN,CAAW,eAAX,EAA4BA,IAA5B;AACD;AACF,OAZM,CAAP;AAaD,KAjZwB;;AAAA;AAAA;;AAoZ3BhD,IAAE+G,EAAF,CAAK,cAAL,IAAuBhH,aAAa+G,aAApC;;AACA9G,IAAE+G,EAAF,CAAK,cAAL,EAAqBC,UAArB,GAAkC;AAAA,WAAMhH,EAAE+G,EAAF,CAAK,cAAL,CAAN;AAAA,GAAlC;AAED,CAvZoB,CAuZlB/G,CAvZkB,CAArB","file":"jquery.custom-select.js","sourcesContent":["import $ from 'jquery';\r\n\r\n/*!\r\n * Custom Select jQuery Plugin\r\n */\r\n\r\nconst CustomSelect = (($) => {\r\n\r\n  const defaults = {\r\n    block: 'custom-select',\r\n    hideCallback: false,\r\n    includeValue: false,\r\n    keyboard: true,\r\n    modifier: false,\r\n    placeholder: false,\r\n    search: false,\r\n    showCallback: false,\r\n    transition: 100,\r\n\r\n    // TODO: Remove deprecated in v1.4.0\r\n    autocomplete: false\r\n  };\r\n\r\n  class CustomSelect {\r\n\r\n    /**\r\n     * Custom Select\r\n     *\r\n     * @param {Object} select - `<select>` DOM element\r\n     * @param {Object} [options] - Settings object\r\n     * @param {string} [options.block=custom-select] - Class name (BEM block name)\r\n     * @param {Function} [options.hideCallback=false] - Fires after dropdown closes\r\n     * @param {boolean} [options.includeValue=false] - Shows chosen value option in\r\n     * dropdown, if enabled also cancels dropdown options rerender\r\n     * @param {boolean} [options.keyboard=true] - Enables keyboard control\r\n     * @param {string} [options.modifier=false] - Additional class, e.g. BEM modifier\r\n     * @param {string} [options.placeholder=false] - Custom select placeholder hint,\r\n     * can be an HTML string (appears if there is no explicitly selected options)\r\n     * @param {boolean} [options.search=false] - Adds input to search options\r\n     * @param {Function} [options.showCallback=false] - Fires after dropdown opens\r\n     * @param {number || string} [options.transition=100] - jQuery slideUp/Down speed\r\n     */\r\n    constructor(select, options) {\r\n      this._$select = $(select);\r\n      this._options = options;\r\n\r\n      // Modifiers\r\n      this._activeModifier = `${this._options.block}--active`;\r\n      this._dropupModifier = `${this._options.block}--dropup`;\r\n\r\n      // Event handlers that can be removed\r\n      this._keydown = this._keydown.bind(this);\r\n      this._dropup = this._dropup.bind(this);\r\n      this._outside = this._outside.bind(this);\r\n\r\n      // TODO: Remove in v1.4.0\r\n      if (this._options.autocomplete) {\r\n        this._options.search = true;\r\n        console.warn('Option `autocomplete` is deprecated since v1.3.0! Please, use `search` instead.');\r\n      }\r\n\r\n      this._init();\r\n    }\r\n\r\n    _init() {\r\n      this._$element = $(\r\n        `<div class=\"${this._options.block}\">\r\n           <button class=\"${this._options.block}__option ${this._options.block}__option--value\" type=\"button\"></button>\r\n           <div class=\"${this._options.block}__dropdown\" style=\"display: none;\"></div>\r\n         </div>`\r\n      );\r\n\r\n      this._$select\r\n        .hide()\r\n        .after(this._$element);\r\n\r\n      if (this._options.modifier) {\r\n        this._$element.addClass(this._options.modifier);\r\n      }\r\n\r\n      // Create values array\r\n      this._$values = this._$select.find('option');\r\n      this._values = [];\r\n\r\n      $.each(this._$values, (i, option) => {\r\n        const el = $(option).text().trim();\r\n        this._values.push(el);\r\n      });\r\n\r\n      this._$value = this._$element.find(`.${this._options.block}__option--value`);\r\n\r\n      if (this._options.placeholder) {\r\n        // Disable placeholder if there is explicitly selected option\r\n        if (this._$select.find('[selected]').length) {\r\n          this._options.placeholder = false;\r\n        } else {\r\n          this._$value.html(this._options.placeholder);\r\n          // Set select value to null\r\n          this._$select.prop('selectedIndex', -1);\r\n        }\r\n      }\r\n\r\n      this._$dropdown = this._$element.find(`.${this._options.block}__dropdown`);\r\n\r\n      // Render options\r\n      $.each(this._values, (i, el) => {\r\n        const cssClass = this._$values.eq(i).attr('class');\r\n        const $option = $(\r\n          `<button class=\"${this._options.block}__option\" type=\"button\">${el}</button>`\r\n        );\r\n\r\n        if (el === this._$select.find(':selected').text().trim()) {\r\n          this._$value\r\n            .text(el)\r\n            .addClass(cssClass).data('class', cssClass);\r\n\r\n          if (this._options.includeValue || this._options.placeholder) {\r\n            $option.addClass(cssClass);\r\n            this._$dropdown.append($option);\r\n          }\r\n        } else {\r\n          $option.addClass(cssClass);\r\n          this._$dropdown.append($option);\r\n        }\r\n      });\r\n\r\n      this._$options = this._$dropdown.find(`.${this._options.block}__option`);\r\n\r\n      if (this._options.search) {\r\n        this._search();\r\n      }\r\n\r\n      this._$value.one('click', (event) => {\r\n        this._show(event);\r\n      });\r\n\r\n      if (!this._$options.length) {\r\n        this._$value.prop('disabled', true);\r\n      }\r\n\r\n      this._$options.on('click', (event) => {\r\n        this._select(event);\r\n      });\r\n    }\r\n\r\n    _show(event) {\r\n      event.preventDefault();\r\n\r\n      // Set dropdown position modifier\r\n      this._dropup();\r\n      $(window).on('resize scroll', this._dropup);\r\n\r\n      this._$element.addClass(this._activeModifier);\r\n\r\n      this._$dropdown.slideDown(this._options.transition, () => {\r\n        if (this._options.search) {\r\n          this._$input.focus();\r\n        }\r\n\r\n        // Open callback\r\n        if (typeof this._options.showCallback === 'function') {\r\n          this._options.showCallback.call(this._$element[0]);\r\n        }\r\n      });\r\n\r\n      setTimeout(() => {\r\n        const outsideClickEvent = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click';\r\n        $(window).on(outsideClickEvent, this._outside);\r\n      }, 0);\r\n\r\n      this._$value.one('click', (event) => {\r\n        event.preventDefault();\r\n\r\n        this._hide();\r\n      });\r\n\r\n      if (this._options.keyboard) {\r\n        this._options.index = -1;\r\n        $(window).on('keydown', this._keydown);\r\n      }\r\n    }\r\n\r\n    _hide() {\r\n      this._$dropdown.slideUp(this._options.transition, () => {\r\n        this._$element\r\n          .removeClass(this._activeModifier)\r\n          .removeClass(this._dropupModifier);\r\n\r\n        // Close callback\r\n        if (typeof this._options.hideCallback === 'function') {\r\n          this._options.hideCallback.call(this._$element[0]);\r\n        }\r\n\r\n        $(window)\r\n          .off('touchstart click', this._outside)\r\n          .off('resize scroll', this._dropup);\r\n        this._$value\r\n          .off('click')\r\n          .one('click', (event) => {\r\n            this._show(event);\r\n          });\r\n      });\r\n\r\n      if (this._options.keyboard) {\r\n        this._$options.blur();\r\n        $(window).off('keydown', this._keydown);\r\n      }\r\n\r\n      // Clear search\r\n      if (this._options.search) {\r\n        this._$options.show();\r\n        this._$input\r\n          .val('')\r\n          .blur();\r\n        this._$wrap.scrollTop(0);\r\n      }\r\n    }\r\n\r\n    _select(event) {\r\n      event.preventDefault();\r\n\r\n      const choice = $(event.currentTarget).text().trim();\r\n      const values = this._values.slice();\r\n\r\n      this._$value\r\n        .text(choice)\r\n        .removeClass(this._$value.data('class'));\r\n      this._$values.prop('selected', false);\r\n\r\n      $.each(values, (i, el) => {\r\n        if (!this._options.includeValue && el === choice) {\r\n          values.splice(i, 1);\r\n        }\r\n\r\n        $.each(this._$values, (i, option) => {\r\n          const $option = $(option);\r\n          if ($option.text().trim() === choice) {\r\n            const cssClass = $option.attr('class');\r\n\r\n            $option.prop('selected', true);\r\n            this._$value.addClass(cssClass).data('class', cssClass);\r\n          }\r\n        });\r\n      });\r\n\r\n      this._hide();\r\n\r\n      // Update dropdown options content\r\n      if (!this._options.includeValue) {\r\n        if (this._$options.length > values.length) {\r\n          const last = this._$options.eq(values.length);\r\n\r\n          last.remove();\r\n          this._$options = this._$options.not(last);\r\n\r\n          if (!this._$options.length) {\r\n            this._$value.prop('disabled', true);\r\n          }\r\n        }\r\n\r\n        $.each(this._$options, (i, option) => {\r\n          const $option = $(option);\r\n          $option.text(values[i]);\r\n\r\n          // Reset option class\r\n          $option.attr('class', `${this._options.block}__option`);\r\n\r\n          $.each(this._$values, function() {\r\n            const $this = $(this);\r\n            if ($this.text().trim() === values[i]) {\r\n              $option.addClass($this.attr('class'));\r\n            }\r\n          });\r\n        });\r\n      }\r\n\r\n      if (typeof event.originalEvent !== 'undefined') {\r\n        this._$select.trigger('change');\r\n      }\r\n    }\r\n\r\n    _search() {\r\n      this._$input = $(`<input class=\"${this._options.block}__input\" autocomplete=\"off\">`);\r\n      this._$dropdown.prepend(this._$input);\r\n\r\n      // Add scrollable wrap\r\n      this._$options.wrapAll(`<div class=\"${this._options.block}__option-wrap\"></div>`);\r\n      this._$wrap = this._$element.find(`.${this._options.block}__option-wrap`);\r\n\r\n      this._$input.on('focus', () => {\r\n        this._options.index = -1;\r\n      });\r\n\r\n      this._$input.on('keyup', () => {\r\n        const query = this._$input.val().trim();\r\n\r\n        this._$wrap.scrollTop(0);\r\n\r\n        if (query.length) {\r\n          setTimeout(() => {\r\n            if (query === this._$input.val().trim()) {\r\n              $.each(this._$options, (i, option) => {\r\n                const $option = $(option);\r\n                const text = $option.text().trim().toLowerCase();\r\n                const match = text.indexOf(query.toLowerCase()) !== -1;\r\n\r\n                $option.toggle(match);\r\n              });\r\n            }\r\n          }, 300);\r\n        } else {\r\n          this._$options.show();\r\n        }\r\n      });\r\n    }\r\n\r\n    _dropup() {\r\n      const bottom = this._$element[0].getBoundingClientRect().bottom;\r\n      const up = $(window).height() - bottom < this._$dropdown.height();\r\n\r\n      this._$element.toggleClass(this._dropupModifier, up);\r\n    }\r\n\r\n    _outside(event) {\r\n      const $target = $(event.target);\r\n      if (!$target.parents().is(this._$element) && !$target.is(this._$element)) {\r\n        this._hide();\r\n      }\r\n    }\r\n\r\n    _keydown(event) {\r\n      const $visible = this._$options.filter(':visible');\r\n\r\n      switch (event.keyCode) {\r\n        // Down\r\n        case 40:\r\n          event.preventDefault();\r\n\r\n          const next = $visible.eq(this._options.index + 1).length;\r\n          if (next) {\r\n            this._options.index += 1;\r\n          } else {\r\n            this._options.index = 0;\r\n          }\r\n\r\n          $visible.eq(this._options.index).focus();\r\n          break;\r\n\r\n        // Up\r\n        case 38:\r\n          event.preventDefault();\r\n\r\n          const prev = $visible.eq(this._options.index - 1).length;\r\n          if (prev && this._options.index - 1 >= 0) {\r\n            this._options.index -= 1;\r\n          } else {\r\n            this._options.index = $visible.length - 1;\r\n          }\r\n\r\n          $visible.eq(this._options.index).focus();\r\n          break;\r\n\r\n        // Enter\r\n        case 13:\r\n\r\n        // Space\r\n        case 32:\r\n          if (!this._$input || !this._$input.is(':focus')) {\r\n            event.preventDefault();\r\n\r\n            const $option = this._$options.add(this._$value).filter(':focus');\r\n            $option.trigger('click');\r\n\r\n            if (!$option.is(this._$value)) {\r\n              this._$select.trigger('change');\r\n            }\r\n            this._$value.focus();\r\n          }\r\n          break;\r\n\r\n        // Esc\r\n        case 27:\r\n          event.preventDefault();\r\n\r\n          this._hide();\r\n          this._$value.focus();\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    static _jQueryPlugin(options) {\r\n      return this.each(function () {\r\n        const $this = $(this);\r\n        let data = $this.data('custom-select');\r\n        const _options = {\r\n          ...defaults,\r\n          ...typeof options === 'object' && options\r\n        };\r\n\r\n        if (!data) {\r\n          data = new CustomSelect(this, _options);\r\n          $this.data('custom-select', data);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  $.fn['customSelect'] = CustomSelect._jQueryPlugin;\r\n  $.fn['customSelect'].noConflict = () => $.fn['customSelect'];\r\n\r\n})($);\r\n\r\nexport default CustomSelect;\r\n"]}